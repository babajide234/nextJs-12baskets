(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{3343:function(e,t,n){"use strict";var r=n(1941);t.Z=void 0;var i=r(n(4938)),o=n(5893),a=(0,i.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.Z=a},4519:function(e,t,n){"use strict";var r=n(1941);t.Z=void 0;var i=r(n(4938)),o=n(5893),a=(0,i.default)((0,o.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile");t.Z=a},4938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(8372)},8456:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(3366),i=n(7462),o=n(7294),a=n(6010),s=n(7192),l=n(917),c=n(8216),u=n(1657),d=n(1496),h=n(8979);function f(e){return(0,h.Z)("MuiCircularProgress",e)}(0,n(6087).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var m=n(5893);const p=["className","color","disableShrink","size","style","thickness","value","variant"];let g,x,v,j,y=e=>e;const Z=44,b=(0,l.F4)(g||(g=y`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),_=(0,l.F4)(x||(x=y`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),S=(0,d.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${(0,c.Z)(n.color)}`]]}})((({ownerState:e,theme:t})=>(0,i.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:t.palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,l.iv)(v||(v=y`
      animation: ${0} 1.4s linear infinite;
    `),b))),P=(0,d.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),k=(0,d.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${(0,c.Z)(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((({ownerState:e,theme:t})=>(0,i.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,l.iv)(j||(j=y`
      animation: ${0} 1.4s ease-in-out infinite;
    `),_)));var w=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiCircularProgress"}),{className:o,color:l="primary",disableShrink:d=!1,size:h=40,style:g,thickness:x=3.6,value:v=0,variant:j="indeterminate"}=n,y=(0,r.Z)(n,p),b=(0,i.Z)({},n,{color:l,disableShrink:d,size:h,thickness:x,value:v,variant:j}),_=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${(0,c.Z)(r)}`],svg:["svg"],circle:["circle",`circle${(0,c.Z)(n)}`,i&&"circleDisableShrink"]};return(0,s.Z)(o,f,t)})(b),w={},C={},O={};if("determinate"===j){const e=2*Math.PI*((Z-x)/2);w.strokeDasharray=e.toFixed(3),O["aria-valuenow"]=Math.round(v),w.strokeDashoffset=`${((100-v)/100*e).toFixed(3)}px`,C.transform="rotate(-90deg)"}return(0,m.jsx)(S,(0,i.Z)({className:(0,a.Z)(_.root,o),style:(0,i.Z)({width:h,height:h},C,g),ownerState:b,ref:t,role:"progressbar"},O,y,{children:(0,m.jsx)(P,{className:_.svg,ownerState:b,viewBox:"22 22 44 44",children:(0,m.jsx)(k,{className:_.circle,style:w,ownerState:b,cx:Z,cy:Z,r:(Z-x)/2,fill:"none",strokeWidth:x})})}))}))},9343:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return n(5418)}])},516:function(e,t,n){"use strict";n.d(t,{m:function(){return s}});var r=n(4529),i=n(2912);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}var s=(0,r.Ue)((function(e,t){return{products:[],edit:!1,add:!1,categories:[],loading:!1,setProducts:function(t){e((function(e){return a({},e,{loading:!0})})),(0,i.Xp)(t).then((function(t){console.log(t),"success"==t.data.status&&(e((function(e){return a({},e,{products:t.data.data})})),e((function(e){return a({},e,{loading:!1})})))}))},setCategories:function(t){e((function(e){return a({},e,{loading:!0})})),(0,i.CP)(t).then((function(t){console.log(t),"success"==t.data.status&&(e((function(e){return a({},e,{categories:t.data.data})})),e((function(e){return a({},e,{loading:!1})})))}))},setEdit:function(t){e((function(e){return a({},e,{edit:t})}))},setAdd:function(t){e((function(e){return a({},e,{add:t})}))},addProduct:function(t){e((function(e){return a({},e,{loading:!0})})),(0,i.LT)(t).then((function(t){console.log(t),e((function(e){return a({},e,{add:!1})}))}))},uploadProductCsv:function(e){(0,i.wB)(e).then((function(e){e.data.status}))}}}))},9556:function(e,t,n){"use strict";n.d(t,{m:function(){return c}});var r=n(4529),i=n(2912),o=n(8016),a=n(9117);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}var c=(0,r.Ue)((function(e,t){return{stores:[],edit:!1,add:!1,loading:!1,storeId:null,setStore:function(t){e((function(e){return l({},e,{loading:!0})})),(0,i.r8)(t).then((function(t){console.log(t),"success"==t.data.status&&(e((function(e){return l({},e,{stores:t.data.data})})),e((function(e){return l({},e,{loading:!1})})))}))},setStoreId:function(t){e((function(e){return l({},e,{storeId:t})}))},setEdit:function(t){e((function(e){return l({},e,{edit:t})}))},setAdd:function(t){e((function(e){return l({},e,{add:t})}))},addStore:function(n){e((function(e){return l({},e,{loading:!0})})),(0,i.MT)(n).then((function(n){console.log(n),"success"==n.data.status?(e((function(e){return l({},e,{loading:!1})})),e((function(e){return l({},e,{add:!1})})),o.q.getState().setMessage(n.data.message),o.q.getState().setStatus(!0),o.q.getState().setType("success"),t().refecthStore()):(e((function(e){return l({},e,{loading:!1})})),e((function(e){return l({},e,{add:!1})})),o.q.getState().setMessage(n.data.message),o.q.getState().setStatus(!0),o.q.getState().setType("error"))}))},editStore:function(n){e((function(e){return l({},e,{loading:!0})})),(0,i.xW)(n).then((function(n){console.log(n),"success"==n.data.status?(e((function(e){return l({},e,{edit:!1})})),e((function(e){return l({},e,{loading:!1})})),o.q.getState().setMessage(n.data.message),o.q.getState().setStatus(!0),o.q.getState().setType("success"),t().refecthStore()):(e((function(e){return l({},e,{loading:!1})})),o.q.getState().setMessage(n.data.message),o.q.getState().setStatus(!0),o.q.getState().setType("error"))}))},refecthStore:function(){var e={token:a.L.getState().user};t().setStore(e)}}}))},5418:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ie}});var r=n(8520),i=n.n(r),o=n(5893),a=n(7294),s=n(6886),l=n(5861),c=n(7357),u=n(6242),d=n(8445),h=n(3835),f=n(3366),m=n(7462),p=n(5408),g=n(8700),x=n(9707),v=n(9766),j=n(1496),y=n(1657);const Z=["component","direction","spacing","divider","children"];function b(e,t){const n=a.Children.toArray(e).filter(Boolean);return n.reduce(((e,r,i)=>(e.push(r),i<n.length-1&&e.push(a.cloneElement(t,{key:`separator-${i}`})),e)),[])}const _=(0,j.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})((({ownerState:e,theme:t})=>{let n=(0,m.Z)({display:"flex"},(0,p.k9)({theme:t},(0,p.P$)({values:e.direction,breakpoints:t.breakpoints.values}),(e=>({flexDirection:e}))));if(e.spacing){const r=(0,g.hB)(t),i=Object.keys(t.breakpoints.values).reduce(((t,n)=>(null==e.spacing[n]&&null==e.direction[n]||(t[n]=!0),t)),{}),o=(0,p.P$)({values:e.direction,base:i}),a=(0,p.P$)({values:e.spacing,base:i}),s=(t,n)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${i=n?o[n]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i]}`]:(0,g.NA)(r,t)}};var i};n=(0,v.Z)(n,(0,p.k9)({theme:t},a,s))}return n}));var S=a.forwardRef((function(e,t){const n=(0,y.Z)({props:e,name:"MuiStack"}),r=(0,x.Z)(n),{component:i="div",direction:a="column",spacing:s=0,divider:l,children:c}=r,u=(0,f.Z)(r,Z),d={direction:a,spacing:s};return(0,o.jsx)(_,(0,m.Z)({as:i,ownerState:d,ref:t},u,{children:l?b(c,l):c}))})),P=n(3321),k=n(8456),w=n(516),C=n(9117),O=n(5113),q=n(7906),M=n(3816),E=n(3184),D=n(295),N=n(3252),T=n(2882),z=n(5294),F=n(2224),A=n(3946),I=n(6160),R=n(9556),W=function(){var e=(0,a.useState)(null),t=e[0],n=e[1],r=Boolean(t),i=function(e){n(e.currentTarget)},s=function(){n(null)},u=(0,w.m)((function(e){return e.products})),d=(0,w.m)((function(e){return e.setEdit})),h=null===u||void 0===u?void 0:u.map((function(e){var t,n,r,i,o,a,s;return t=e.id,n=e.name,r=e.quantity,i=e.amount,o=e.category_name,a=e.details,s=e.store_name,{id:t,name:n,quantity:r,amount:i,category:o,details:a,store:s}}));console.log("rows",h);var f=function(e){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(A.Z,{"aria-label":"more",id:"long-button","aria-controls":r?"long-menu":void 0,"aria-expanded":r?"true":void 0,"aria-haspopup":"true",onClick:i,children:(0,o.jsx)(I.Z,{})}),(0,o.jsx)(z.Z,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:t,open:r,onClose:s,PaperProps:{style:{maxHeight:216,width:"20ch"}},children:(0,o.jsx)(F.Z,{onClick:function(){return function(e){console.log(e),d(!0)}(e)},children:"Edit"})})]})};return(0,o.jsx)(T.Z,{component:O.Z,children:(0,o.jsx)(q.Z,{sx:{minWidth:650},"aria-label":"simple table",children:h?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(E.Z,{children:(0,o.jsxs)(M.Z,{children:[(0,o.jsx)(N.Z,{children:"Name"}),(0,o.jsx)(N.Z,{align:"right",children:"Quantity"}),(0,o.jsx)(N.Z,{align:"right",children:"Amount"}),(0,o.jsx)(N.Z,{align:"right",children:"Category"}),(0,o.jsx)(N.Z,{align:"right",children:"Details"}),(0,o.jsx)(N.Z,{align:"right",children:"Store"}),(0,o.jsx)(N.Z,{align:"right",children:"Action"})]})}),(0,o.jsx)(D.Z,{children:h&&h.map((function(e){return(0,o.jsxs)(M.Z,{sx:{"&:last-of-type td, &:last-of-type th":{border:0}},children:[(0,o.jsx)(N.Z,{component:"th",scope:"row",children:e.name}),(0,o.jsx)(N.Z,{align:"right",children:e.quantity}),(0,o.jsx)(N.Z,{align:"right",children:e.amount?e.amount:"null"}),(0,o.jsx)(N.Z,{align:"right",children:e.category?e.category:"null"}),(0,o.jsx)(N.Z,{align:"right",children:e.details?e.details:"null"}),(0,o.jsx)(N.Z,{align:"right",children:e.store?e.store:"null"}),(0,o.jsx)(N.Z,{align:"right",children:f(e.id)})]},e.id)}))})]}):(0,o.jsx)(c.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"20vh"},children:(0,o.jsx)(l.Z,{variant:"h5",children:"No Products"})})})})},$=n(4054),B=n(7312),L=n(315),U=n(1903),H=n(7058),V=n(7109),X=n(7918),Q=n(2912);function K(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){G(e,t,n[t])}))}return e}var Y=function(){var e=(0,w.m)((function(e){return e.addProduct})),t=((0,w.m)((function(e){return e.categories})),(0,w.m)((function(e){return e.setCategories}))),n=(0,R.m)((function(e){return e.stores})),r=(0,R.m)((function(e){return e.setStore})),c=(0,C.L)((function(e){return e.user})),u=(0,a.useState)({store_id:"",name:"",quantity:"",amount:"",details:"",weight:"",category_id:"",sub_category_id:"",main_photo:"",photo_a:"",photo_b:"",photo_c:"",photo_d:"",photo_e:"",active:""}),d=u[0],h=u[1],f=(0,a.useState)(null),m=f[0],p=f[1],g=(0,a.useState)([]);g[0],g[1];(0,a.useEffect)((function(){t({token:c,category_id:""}),r({token:c,store_id:"",location:"",store:"",page:"",limit:""})}),[c,t,r]);var x,v=function(e){return""==e},j=function(e){h(J({},d,G({},e.target.name,e.target.value)))},y=(x=i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return(t=new FormData).append("token",c),t.append("file",m),e.prev=5,e.next=8,Q.eE.post("misc/file-upload",t,{headers:{"Content-Type":"multipart/form-data"}});case 8:"success"==(n=e.sent).data.status&&(console.log(n.data.file_url),h(J({},t,G({},"main_photo",n.data.file_url)))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})),function(){var e=this,t=arguments;return new Promise((function(n,r){var i=x.apply(e,t);function o(e){K(i,n,r,o,a,"next",e)}function a(e){K(i,n,r,o,a,"throw",e)}o(void 0)}))});return(0,o.jsx)("form",{onSubmit:function(t){if(t.preventDefault(),!(v(d.name)||v(d.amount)||v(d.details))){var n={token:c,store_id:d.store_id,name:d.name,quantity:d.quantity,amount:d.amount,details:d.details,weight:d.weight,category_id:d.category_id,sub_category_id:d.sub_category_id,main_photo:d.main_photo,photo_a:d.photo_a,photo_b:d.photo_b,photo_c:d.photo_c,photo_d:d.photo_d,photo_e:d.photo_e,active:d.active};e(n)}},children:(0,o.jsxs)(s.ZP,{container:!0,spacing:7,children:[(0,o.jsx)(s.ZP,{item:!0,xs:12,sm:12,children:(0,o.jsx)(l.Z,{variant:"h5",sx:{marginBottom:2},children:"Add New Product"})}),(0,o.jsx)(s.ZP,{item:!0,xs:12,sm:12,children:(0,o.jsxs)($.Z,{fullWidth:!0,size:"small",children:[(0,o.jsx)(B.Z,{id:"demo-simple-select-label",children:"Store"}),(0,o.jsx)(L.Z,{name:"store_id",value:d.store_id,label:"Store",onChange:j,children:null===n||void 0===n?void 0:n.map((function(e){return(0,o.jsx)(F.Z,{value:e.store_id,children:e.name},e.store_id)}))})]})}),(0,o.jsx)(s.ZP,{item:!0,xs:12,sm:12,children:(0,o.jsx)(U.Z,{fullWidth:!0,size:"small",label:"Name",name:"name",placeholder:"name",value:d.name,onChange:j})}),(0,o.jsx)(s.ZP,{item:!0,xs:12,sm:6,children:(0,o.jsx)(U.Z,{fullWidth:!0,size:"small",label:"Quantity",type:"number",name:"quantity",placeholder:"quantity",value:d.quantity,onChange:j})}),(0,o.jsx)(s.ZP,{item:!0,xs:12,sm:6,children:(0,o.jsxs)($.Z,{fullWidth:!0,sx:{m:1},children:[(0,o.jsx)(B.Z,{htmlFor:"outlined-adornment-amount",children:"Amount"}),(0,o.jsx)(H.Z,{id:"outlined-adornment-amount",startAdornment:(0,o.jsx)(V.Z,{position:"start",children:"\u20a6"}),label:"Amount",name:"amount",value:d.amount,onChange:j,size:"small"})]})}),(0,o.jsx)(s.ZP,{item:!0,xs:12,sm:12,children:(0,o.jsx)(U.Z,{multiline:!0,minRows:3,size:"small",fullWidth:!0,label:"Details",type:"text",name:"details",placeholder:"Details",value:d.details,onChange:j})}),(0,o.jsx)(s.ZP,{item:!0,xs:12,sm:12,children:(0,o.jsx)(U.Z,{fullWidth:!0,size:"small",label:"Weight",type:"text",name:"weight",placeholder:"weight",value:d.weight,onChange:j})}),(0,o.jsx)(s.ZP,{item:!0,xs:12,sm:6,children:(0,o.jsxs)($.Z,{fullWidth:!0,size:"small",children:[(0,o.jsx)(B.Z,{id:"demo-simple-select-label",children:"Category"}),(0,o.jsx)(L.Z,{name:"category_id",value:d.category_id,label:"Category",onChange:j,children:(0,o.jsx)(F.Z,{value:20,children:"DISCOUNTED PRICES PER PACK"})})]})}),(0,o.jsx)(s.ZP,{item:!0,xs:12,sm:6,children:(0,o.jsxs)($.Z,{fullWidth:!0,size:"small",children:[(0,o.jsx)(B.Z,{id:"demo-simple-select-label",children:"Subcategory"}),(0,o.jsxs)(L.Z,{name:"sub_category_id",value:d.sub_category_id,label:"Subcategory",onChange:j,children:[(0,o.jsx)(F.Z,{value:10,children:"Ten"}),(0,o.jsx)(F.Z,{value:20,children:"Twenty"}),(0,o.jsx)(F.Z,{value:30,children:"Thirty"})]})]})}),(0,o.jsx)(s.ZP,{item:!0,xs:12,sm:12,sx:{display:"flex",alignItems:"center"},children:d.main_photo?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("label",{htmlFor:"btn-upload",children:[(0,o.jsx)("input",{id:"btn-upload",style:{display:"none"},type:"file",onChange:function(e){var t=e.target.files[0];t&&t.type.includes("image")?p(t):setImage(null)},accept:"image/*"}),(0,o.jsx)(P.Z,{className:"btn-choose",variant:"outlined",component:"span",children:"Choose Files"})]}),m&&(0,o.jsxs)("p",{children:["Selected file: ",m.name]}),(0,o.jsx)(P.Z,{onClick:y,disabled:!m,children:"upload"})]}):(0,o.jsx)(X.Z,{variant:"outlined",color:"success",size:"small",label:d.main_photo})}),(0,o.jsx)(s.ZP,{item:!0,xs:12,children:(0,o.jsx)(P.Z,{variant:"contained",type:"submit",sx:{float:"right"},children:"Save"})})]})})},ee=n(4519),te=n(3343),ne=n(8016);function re(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}var ie=function(){var e=(0,C.L)((function(e){return e.user})),t=(0,w.m)((function(e){return e.add})),n=(0,w.m)((function(e){return e.edit})),r=(0,w.m)((function(e){return e.setAdd})),f=(0,w.m)((function(e){return e.setProducts})),m=((0,w.m)((function(e){return e.uploadProductCsv})),(0,ne.q)((function(e){return e.setMessage}))),p=(0,ne.q)((function(e){return e.setStatus})),g=(0,ne.q)((function(e){return e.setType})),x=(0,a.useState)(null),v=(x[0],x[1]),j=(0,a.useState)(null),y=j[0],Z=j[1],b=(0,a.useState)(0),_=b[0],O=b[1];(0,a.useEffect)((function(){f({token:e,id:"",store_id:"",category_id:"",sub_category_id:"",location:"",store:"",orderBy:"",active:""})}),[e,f]);var q,M=(q=i().mark((function t(){var n,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("token",e),n.append("file",y),t.prev=3,t.next=6,Q.eE.post("misc/file-upload",n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);O(t)}});case 6:if(r=t.sent,console.log(r),"success"!=r.data.status){t.next=16;break}return t.next=11,Q.eE.post("store/upload-products",{token:e,store_id:"",file_url:r.data.file_url});case 11:o=t.sent,console.log(r),"success"==o.data.status&&(setFileUrl(o.data.file_url),v("success"),m(o.data.message),p(!0),g("success"),Z(null),f({token:e,id:"",store_id:"",category_id:"",sub_category_id:"",location:"",store:"",orderBy:"",active:""})),t.next=17;break;case 16:v("failed"),m(r.data.message),p(!0),g("error");case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(3),console.error(t.t0),v("failed");case 23:case"end":return t.stop()}}),t,null,[[3,19]])})),function(){var e=this,t=arguments;return new Promise((function(n,r){var i=q.apply(e,t);function o(e){re(i,n,r,o,a,"next",e)}function a(e){re(i,n,r,o,a,"throw",e)}o(void 0)}))});return(0,o.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,o.jsxs)(s.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between"},children:[(0,o.jsx)(l.Z,{variant:"h5",children:"Products"}),(0,o.jsxs)(S,{spacing:5,direction:"row",children:[(0,o.jsx)(P.Z,{variant:"contained",onClick:function(){return r(!t)},children:"Add New Product"}),(0,o.jsxs)(P.Z,{variant:"contained",component:"label",children:["Upload Csv",(0,o.jsx)("input",{hidden:!0,onChange:function(e){Z(e.target.files[0])},multiple:!0,type:"file"}),y&&(0,o.jsx)(c.Z,{ml:4,children:(0,o.jsx)(k.Z,{variant:"determinate",size:20,color:"inherit",value:_})})]}),y&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(P.Z,{variant:"outlined",onClick:M,children:(0,o.jsx)(ee.Z,{})}),(0,o.jsx)(P.Z,{variant:"outlined",color:"error",onClick:function(){return Z(null)},children:(0,o.jsx)(te.Z,{})})]})]})]}),(0,o.jsx)(s.ZP,{item:!0,xs:12,children:(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(d.Z,{title:"Products Table",titleTypographyProps:{variant:"h6"}}),(0,o.jsx)(W,{}),(0,o.jsx)(h.Z,{className:"",open:t,onClose:function(){t&&r(!t),n&&setEdit(!n)},children:(0,o.jsx)(c.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",width:600,minHeight:100,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#fff",borderRadius:"10px",paddingBlock:20,paddingInline:20},children:(0,o.jsx)(Y,{})})})]})})]})}},1941:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},function(e){e.O(0,[657,78,774,888,179],(function(){return t=9343,e(e.s=t);var t}));var t=e.O();_N_E=t}]);