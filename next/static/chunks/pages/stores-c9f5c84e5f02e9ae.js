(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[813],{4048:function(e,t,n){"use strict";var r=n(1941);t.Z=void 0;var a=r(n(4938)),i=n(5893),o=(0,a.default)((0,i.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"OpenInNew");t.Z=o},4938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(8372)},4799:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stores",function(){return n(6833)}])},9556:function(e,t,n){"use strict";n.d(t,{m:function(){return c}});var r=n(4529),a=n(2912),i=n(8016),o=n(9117);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}var c=(0,r.Ue)((function(e,t){return{stores:[],edit:!1,add:!1,loading:!1,storeId:null,setStore:function(t){e((function(e){return l({},e,{loading:!0})})),(0,a.r8)(t).then((function(t){console.log(t),"success"==t.data.status&&(e((function(e){return l({},e,{stores:t.data.data})})),e((function(e){return l({},e,{loading:!1})})))}))},setStoreId:function(t){e((function(e){return l({},e,{storeId:t})}))},setEdit:function(t){e((function(e){return l({},e,{edit:t})}))},setAdd:function(t){e((function(e){return l({},e,{add:t})}))},addStore:function(n){e((function(e){return l({},e,{loading:!0})})),(0,a.MT)(n).then((function(n){console.log(n),"success"==n.data.status?(e((function(e){return l({},e,{loading:!1})})),e((function(e){return l({},e,{add:!1})})),i.q.getState().setMessage(n.data.message),i.q.getState().setStatus(!0),i.q.getState().setType("success"),t().refecthStore()):(e((function(e){return l({},e,{loading:!1})})),e((function(e){return l({},e,{add:!1})})),i.q.getState().setMessage(n.data.message),i.q.getState().setStatus(!0),i.q.getState().setType("error"))}))},editStore:function(n){e((function(e){return l({},e,{loading:!0})})),(0,a.xW)(n).then((function(n){console.log(n),"success"==n.data.status?(e((function(e){return l({},e,{edit:!1})})),e((function(e){return l({},e,{loading:!1})})),i.q.getState().setMessage(n.data.message),i.q.getState().setStatus(!0),i.q.getState().setType("success"),t().refecthStore()):(e((function(e){return l({},e,{loading:!1})})),i.q.getState().setMessage(n.data.message),i.q.getState().setStatus(!0),i.q.getState().setType("error"))}))},refecthStore:function(){var e={token:o.L.getState().user};t().setStore(e)}}}))},5538:function(e,t,n){"use strict";n.d(t,{S:function(){return s}});var r=n(4529),a=n(2912);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}var s=(0,r.Ue)((function(e,t){return{teams:[],edit:!1,add:!1,loading:!1,setTeams:function(t){e((function(e){return o({},e,{loading:!0})})),(0,a.LK)(t).then((function(t){console.log(t),"success"==t.data.status&&(e((function(e){return o({},e,{teams:t.data.data})})),e((function(e){return o({},e,{loading:!1})})))}))},setEdit:function(t){e((function(e){return o({},e,{edit:t})}))},setAdd:function(t){e((function(e){return o({},e,{add:t})}))},addTeam:function(t){e((function(e){return o({},e,{loading:!0})})),(0,a.Cm)(t).then((function(e){console.log(e)}))}}}))},6833:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ce}});var r=n(5893),a=n(7294),i=n(6886),o=n(5861),s=n(6242),l=n(8445),c=n(3835),u=n(7357),d=n(3321),f=n(9556),m=n(9117),h=n(1903),p=n(2175),b=function(){var e=(0,f.m)((function(e){return e.addStore})),t=(0,m.L)((function(e){return e.user}));return(0,r.jsx)(p.J9,{initialValues:{name:"",phone:"",email:"",address:""},enableReinitialize:!0,onSubmit:function(n){var r={token:t,name:n.name,phone:n.phone,email:n.email,address:n.address};e(r)},children:function(e){var t=e.values,n=e.handleSubmit,a=e.handleChange;return(0,r.jsx)("form",{onSubmit:n,children:(0,r.jsxs)(i.ZP,{container:!0,spacing:7,children:[(0,r.jsx)(i.ZP,{item:!0,xs:12,sm:12,children:(0,r.jsx)(o.Z,{variant:"h5",sx:{marginBottom:2},children:"Add New Store"})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,sm:12,children:(0,r.jsx)(h.Z,{fullWidth:!0,label:"Name",name:"name",placeholder:"name",value:t.name,onChange:a})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,sm:12,children:(0,r.jsx)(h.Z,{fullWidth:!0,label:"Contact Details",name:"phone",placeholder:"Contact Details",value:t.phone,onChange:a})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,sm:12,children:(0,r.jsx)(h.Z,{fullWidth:!0,label:"Email",placeholder:"email",name:"email",value:t.email,onChange:a})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,sm:12,children:(0,r.jsx)(h.Z,{multiline:!0,minRows:3,name:"address",value:t.address,defaultValue:t.address,fullWidth:!0,label:"Address",onChange:a,placeholder:"Address"})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(d.Z,{variant:"contained",type:"submit",sx:{float:"right"},children:"Create"})})]})})}})},g=n(5113),x=n(7906),v=n(3816),j=n(3184),Z=n(295),y=n(3252),S=n(2882),w=(n(5294),n(2224),n(3946),n(6160),n(5538),function(){var e=(0,a.useState)(null),t=e[0],n=(e[1],Boolean(t),(0,f.m)((function(e){return e.stores}))),i=(0,f.m)((function(e){return e.setEdit})),o=(0,f.m)((function(e){return e.edit})),s=(0,f.m)((function(e){return e.setStoreId})),l=n.map((function(e){var t,n,r,a,i,o;return t=e.store_id,n=e.name,r=e.description,a=e.city,i=e.area,o=e.address,{id:t,name:n,description:r,city:a,area:i,address:o}}));console.log("rows",l);var c=function(e){console.log(e),i(!o),s(e)};return(0,r.jsx)(S.Z,{component:g.Z,children:(0,r.jsxs)(x.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,r.jsx)(j.Z,{children:(0,r.jsxs)(v.Z,{children:[(0,r.jsx)(y.Z,{children:"Name"}),(0,r.jsx)(y.Z,{align:"right",children:"Description"}),(0,r.jsx)(y.Z,{align:"right",children:"City"}),(0,r.jsx)(y.Z,{align:"right",children:"Area"}),(0,r.jsx)(y.Z,{align:"right",children:"Address"}),(0,r.jsx)(y.Z,{align:"right",children:"Action"})]})}),(0,r.jsx)(Z.Z,{children:l.map((function(e){return(0,r.jsxs)(v.Z,{sx:{"&:last-of-type td, &:last-of-type th":{border:0}},children:[(0,r.jsx)(y.Z,{component:"th",scope:"row",children:e.name}),(0,r.jsx)(y.Z,{align:"right",children:e.description}),(0,r.jsx)(y.Z,{align:"right",children:e.city?e.city:"null"}),(0,r.jsx)(y.Z,{align:"right",children:e.area?e.area:"null"}),(0,r.jsx)(y.Z,{align:"right",children:e.address?e.address:"null"}),(0,r.jsx)(y.Z,{align:"right",children:(0,r.jsx)(d.Z,{onClick:function(){return c(e.id)},children:"edit"})})]},e.name)}))})]})})}),P=n(8520),C=n.n(P),k=n(3366),O=n(7462),_=n(6010),I=n(7192),N=n(917),q=n(1796),M=n(8216),$=n(2734),D=n(1496),E=n(1657),L=n(8979);function A(e){return(0,L.Z)("MuiLinearProgress",e)}(0,n(6087).Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const B=["className","color","value","valueBuffer","variant"];let T,R,U,V,W,z,F=e=>e;const X=(0,N.F4)(T||(T=F`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),H=(0,N.F4)(R||(R=F`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),J=(0,N.F4)(U||(U=F`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),K=(e,t)=>"inherit"===t?"currentColor":"light"===e.palette.mode?(0,q.$n)(e.palette[t].main,.62):(0,q._j)(e.palette[t].main,.5),G=(0,D.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${(0,M.Z)(n.color)}`],t[n.variant]]}})((({ownerState:e,theme:t})=>(0,O.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:K(t,e.color)},"inherit"===e.color&&"buffer"!==e.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===e.variant&&{backgroundColor:"transparent"},"query"===e.variant&&{transform:"rotate(180deg)"}))),Q=(0,D.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${(0,M.Z)(n.color)}`]]}})((({ownerState:e,theme:t})=>{const n=K(t,e.color);return(0,O.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===e.color&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,N.iv)(V||(V=F`
    animation: ${0} 3s infinite linear;
  `),J)),Y=(0,D.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${(0,M.Z)(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((({ownerState:e,theme:t})=>(0,O.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===e.color?"currentColor":t.palette[e.color].main},"determinate"===e.variant&&{transition:"transform .4s linear"},"buffer"===e.variant&&{zIndex:1,transition:"transform .4s linear"})),(({ownerState:e})=>("indeterminate"===e.variant||"query"===e.variant)&&(0,N.iv)(W||(W=F`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),X))),ee=(0,D.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${(0,M.Z)(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((({ownerState:e,theme:t})=>(0,O.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==e.variant&&{backgroundColor:"inherit"===e.color?"currentColor":t.palette[e.color].main},"inherit"===e.color&&{opacity:.3},"buffer"===e.variant&&{backgroundColor:K(t,e.color),transition:"transform .4s linear"})),(({ownerState:e})=>("indeterminate"===e.variant||"query"===e.variant)&&(0,N.iv)(z||(z=F`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),H)));var te=a.forwardRef((function(e,t){const n=(0,E.Z)({props:e,name:"MuiLinearProgress"}),{className:a,color:i="primary",value:o,valueBuffer:s,variant:l="indeterminate"}=n,c=(0,k.Z)(n,B),u=(0,O.Z)({},n,{color:i,variant:l}),d=(e=>{const{classes:t,variant:n,color:r}=e,a={root:["root",`color${(0,M.Z)(r)}`,n],dashed:["dashed",`dashedColor${(0,M.Z)(r)}`],bar1:["bar",`barColor${(0,M.Z)(r)}`,("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&`barColor${(0,M.Z)(r)}`,"buffer"===n&&`color${(0,M.Z)(r)}`,("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,I.Z)(a,A,t)})(u),f=(0,$.Z)(),m={},h={bar1:{},bar2:{}};if("determinate"===l||"buffer"===l)if(void 0!==o){m["aria-valuenow"]=Math.round(o),m["aria-valuemin"]=0,m["aria-valuemax"]=100;let e=o-100;"rtl"===f.direction&&(e=-e),h.bar1.transform=`translateX(${e}%)`}else 0;if("buffer"===l)if(void 0!==s){let e=(s||0)-100;"rtl"===f.direction&&(e=-e),h.bar2.transform=`translateX(${e}%)`}else 0;return(0,r.jsxs)(G,(0,O.Z)({className:(0,_.Z)(d.root,a),ownerState:u,role:"progressbar"},m,{ref:t},c,{children:["buffer"===l?(0,r.jsx)(Q,{className:d.dashed,ownerState:u}):null,(0,r.jsx)(Y,{className:d.bar1,ownerState:u,style:h.bar1}),"determinate"===l?null:(0,r.jsx)(ee,{className:d.bar2,ownerState:u,style:h.bar2})]}))})),ne=n(2912);function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=(0,n(4529).Ue)((function(e,t){return{file_url:"",setFileUrl:function(t){e((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){re(e,t,n[t])}))}return e}({},e,{file_url:t})}))}}})),ie=n(4048);function oe(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,a)}var se=function(){var e,t=(0,a.useState)(null),n=t[0],s=t[1],l=(0,a.useState)(0),c=l[0],f=l[1],h=(0,a.useState)(null),p=h[0],b=h[1],g=(0,m.L)((function(e){return e.user})),x=ae((function(e){return e.file_url})),v=ae((function(e){return e.setFileUrl})),j=(e=C().mark((function e(){var t,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("token",g),t.append("file",n),e.prev=3,e.next=6,ne.eE.post("misc/file-upload",t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);f(t)}});case 6:r=e.sent,console.log(r),"success"==r.data.status?(v(r.data.file_url),b("success")):b("failed"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),b("failed");case 15:case"end":return e.stop()}}),e,null,[[3,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){oe(i,r,a,o,s,"next",e)}function s(e){oe(i,r,a,o,s,"throw",e)}o(void 0)}))});return(0,r.jsxs)(i.ZP,{item:!0,xs:12,sm:12,children:[(0,r.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,r.jsxs)("label",{htmlFor:"btn-upload",children:[(0,r.jsx)("input",{id:"btn-upload",name:"btn-upload",style:{display:"none"},type:"file",accept:"image/*",onChange:function(e){s(e.target.files[0]),console.log(g)}}),(0,r.jsx)(d.Z,{className:"btn-choose",variant:"outlined",component:"span",children:"Choose Image"})]}),(0,r.jsx)("div",{className:"file-name",children:n?n.name:null}),(0,r.jsx)(d.Z,{className:"btn-upload",color:"primary",variant:"contained",component:"span",disabled:!n,onClick:j,children:"Upload"})]}),n&&(0,r.jsxs)(u.Z,{mt:4,sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(u.Z,{sx:{width:"100%",mr:1},children:(0,r.jsx)(te,{variant:"determinate",value:c})}),(0,r.jsx)(u.Z,{sx:{minWidth:35},children:(0,r.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:"".concat(Math.round(c),"%")})})]}),"success"===p&&(0,r.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(o.Z,{variant:"body1",color:"primary",children:"Upload successful!"}),(0,r.jsx)("a",{href:x,target:"_blank",rel:"noreferrer",children:(0,r.jsx)(ie.Z,{})})]}),"failed"===p&&(0,r.jsx)(o.Z,{variant:"body1",color:"error",children:"Upload failed. Please try again."})]})},le=function(){var e=(0,m.L)((function(e){return e.user})),t=(0,f.m)((function(e){return e.stores})),n=(0,f.m)((function(e){return e.storeId})),a=(0,f.m)((function(e){return e.editStore})),o=((0,f.m)((function(e){return e.loading})),ae((function(e){return e.file_url}))),s=t.filter((function(e){return e.store_id==n}))[0],l={store_id:n,name:s.name,address:s.address,description:s.description,photo:o};return(0,r.jsx)(p.J9,{initialValues:l,enableReinitialize:!0,onSubmit:function(t){var r={token:e,store_id:n,name:t.name,address:t.address,description:t.description,photo:o};a(r)},children:function(e){var t=e.values,n=e.handleSubmit,a=e.handleChange;return(0,r.jsx)("form",{onSubmit:n,children:(0,r.jsxs)(i.ZP,{container:!0,spacing:7,children:[(0,r.jsx)(i.ZP,{item:!0,xs:12,sm:12,children:(0,r.jsx)(h.Z,{fullWidth:!0,label:"name",name:"name",value:t.name,defaultValue:t.name,placeholder:"johnDoe",onChange:a})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,sm:12,children:(0,r.jsx)(h.Z,{multiline:!0,minRows:3,name:"description",value:t.description,defaultValue:t.description,fullWidth:!0,label:"Description",onChange:a,placeholder:"Description"})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,sm:12,children:(0,r.jsx)(h.Z,{multiline:!0,minRows:3,name:"address",value:t.address,defaultValue:t.address,fullWidth:!0,label:"Address",onChange:a,placeholder:"Address"})}),(0,r.jsx)(se,{}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(d.Z,{variant:"contained",type:"submit",sx:{float:"right"},children:"Update Store"})})]})})}})},ce=function(){var e=(0,m.L)((function(e){return e.user})),t=(0,f.m)((function(e){return e.add})),n=(0,f.m)((function(e){return e.edit})),h=(0,f.m)((function(e){return e.setAdd})),p=(0,f.m)((function(e){return e.setEdit})),g=(0,f.m)((function(e){return e.setStore})),x={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",width:600,minHeight:100,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#fff",borderRadius:"10px",paddingBlock:20,paddingInline:20};(0,a.useEffect)((function(){g({token:e,store_id:"",location:"",store:"",page:"",limit:""})}),[e,g]);var v=function(){t&&h(!t),n&&p(!n)};return(0,r.jsxs)(i.ZP,{container:!0,spacing:6,children:[(0,r.jsxs)(i.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between"},children:[(0,r.jsx)(o.Z,{variant:"h5",children:"Stores"}),(0,r.jsx)(d.Z,{variant:"contained",onClick:function(){return h(!t)},children:"Add New Stores"})]}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(l.Z,{title:"Stores Table",titleTypographyProps:{variant:"h6"}}),(0,r.jsx)(w,{}),(0,r.jsx)(c.Z,{className:"",open:t,onClose:v,children:(0,r.jsx)(u.Z,{sx:x,children:(0,r.jsx)(b,{})})}),(0,r.jsx)(c.Z,{className:"",open:n,onClose:v,children:(0,r.jsx)(u.Z,{sx:x,children:(0,r.jsx)(le,{})})})]})})]})}},1941:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},function(e){e.O(0,[657,78,175,774,888,179],(function(){return t=4799,e(e.s=t);var t}));var t=e.O();_N_E=t}]);